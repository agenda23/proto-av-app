# gen-app 要件定義書

## 1. プロジェクト概要

### 1.1. プロジェクトの目的
本プロジェクトは、ユーザーのキーボードやタッチ操作に反応し、リアルタイムに映像と音楽を生成するWebアプリケーションを開発することを目的とする。アンダーグラウンド・テクノミュージックと連動した、VJ（ビジュアルジョッキー）パフォーマンスのような没入感のあるオーディオビジュアル体験をWebブラウザ上で実現する。

### 1.2. ターゲットユーザー
- VJ、DJ、音楽プロデューサー
- インタラクティブアートやジェネラティブアートに興味があるクリエイター
- テクノミュージックや電子音楽のファン

## 2. 機能要件

### 2.1. ビジュアル生成機能
- **[F-01] 3Dビジュアル表示**: Three.jsを使用し、奥行きのある3D空間にオブジェクトやパーティクルを描画する。
- **[F-02] 2Dビジュアル表示**: p5.jsを使用し、UI要素やシンプルな2Dグラフィックスを前景に描画する。
- **[F-03] 高度な映像表現**: GLSLシェーダーを用い、流体的、有機的、またはノイジーな抽象的ビジュアルを生成する。
- **[F-04] オーディオリアクティブ**: 音楽の周波数帯（低音・中音・高音）や音量に応じて、ビジュアル要素（色、サイズ、動き、透明度など）がリアルタイムに変化する。

### 2.2. オーディオ生成機能
- **[F-05] サウンドエンジン**: Web Audio API（p5.sound経由）を使用し、シンセサイザーとノイズを生成する。
- **[F-06] ステップシーケンサー**: キックドラム、ハイハット、ベースシンセなどのサウンドを組み合わせ、テクノ風の短いフレーズを自動演奏する。

### 2.3. インタラクション機能
- **[F-07] キーボード操作**: 特定のキー入力により、ビジュアルシーンの切り替え、音楽の再生/停止、BPM（テンポ）の調整、シンセサイザーの演奏などが可能であること。
- **[F-08] マウス/タッチ操作**: クリック/タップやドラッグ操作により、一時的なエフェクトの発生や、3D空間のカメラ視点を操作できること。

## 3. 非機能要件

### 3.1. パフォーマンス
- **[N-01] フレームレート**: リアルタイム描画において、主要なアニメーションが**平均60fps**で動作することを目指す。

### 3.2. 互換性
- **[N-02] 対応ブラウザ**: 最新版のGoogle Chrome, Mozilla Firefox, Safariで主要機能が正常に動作すること。

### 3.3. 技術スタック
- **[N-03] 使用技術**: HTML5, CSS3, JavaScript (ES6+), Three.js, p5.js (p5.sound含む), GLSL。

### 3.4. UI/UX
- **[N-04] 操作性**: 専門知識がなくても直感的に触って楽しめるシンプルなインターフェース。
- **[N-05] 没入感**: 操作へのフィードバックが即時的であり、音と映像が高度に同期することで高い没入感を提供する。